@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base Styles */
@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] 
           from-nightfall-primary via-nightfall-secondary to-black 
           text-gray-100 min-h-screen overflow-x-hidden 
           selection:bg-nightfall-accent/30 selection:text-blue-200;
  }
  
  :focus-visible {
    @apply outline-none ring-2 ring-nightfall-accent ring-offset-2 ring-offset-nightfall-primary;
  }
}

/* Component Styles */
@layer components {
  /* Cards & Panels */
  .card {
    @apply bg-nightfall-secondary/60 backdrop-blur-md border border-white/5 rounded-2xl shadow-xl transition-all duration-300;
  }
  
  .card-hover {
    @apply hover:bg-nightfall-secondary/80 hover:border-white/10 hover:shadow-2xl hover:-translate-y-1;
  }

  /* Buttons */
  .btn-base {
    @apply flex items-center justify-center font-bold tracking-wide transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed select-none;
  }

  .btn-primary {
    @apply btn-base px-6 py-3 bg-nightfall-accent hover:bg-blue-500 text-white rounded-xl shadow-lg shadow-blue-500/20 active:shadow-none;
  }

  /* Control Grid */
  .control-grid {
    @apply grid grid-cols-3 gap-3 max-w-[280px] mx-auto w-full touch-manipulation;
  }

  .control-btn {
    @apply btn-base aspect-square rounded-2xl text-2xl shadow-lg border-b-4 border-black/30 active:border-b-0 active:translate-y-1 active:bg-opacity-90;
  }

  .control-btn-forward, .control-btn-back {
    @apply control-btn bg-nightfall-accent text-white;
  }
  
  .control-btn-left, .control-btn-right {
    @apply control-btn bg-gray-700 text-gray-200;
  }
  
  .control-btn-stop {
    @apply control-btn bg-nightfall-error/10 border-nightfall-error/50 text-nightfall-error hover:bg-nightfall-error hover:text-white transition-colors;
  }
  
  .control-btn-rotate {
    @apply btn-base w-full py-4 mt-2 bg-purple-600/20 text-purple-400 hover:bg-purple-600 hover:text-white border border-purple-500/30 rounded-xl transition-all;
  }

  .emergency-stop {
    @apply w-full py-4 rounded-xl font-black text-sm tracking-widest uppercase transition-all duration-200 shadow-lg transform active:scale-95 border-b-4 border-black/30 active:border-b-0 active:translate-y-1;
  }

  /* Status Badges */
  .status-badge {
    @apply flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider border;
  }
  
  .status-connected {
    @apply status-badge bg-nightfall-success/10 text-nightfall-success border-nightfall-success/20;
  }
  
  .status-disconnected {
    @apply status-badge bg-nightfall-error/10 text-nightfall-error border-nightfall-error/20;
  }
  
  .status-connecting {
    @apply status-badge bg-nightfall-warning/10 text-nightfall-warning border-nightfall-warning/20 animate-pulse;
  }

  /* Metrics Bars */
  .metric-bar-container {
    @apply w-full bg-gray-700/30 rounded-full h-2 overflow-hidden;
  }
  
  .metric-fill {
    @apply h-full rounded-full transition-all duration-500 ease-out shadow-[0_0_8px_currentColor];
  }

  /* Health Indicators */
  .health-dot {
    @apply w-3 h-3 rounded-full shadow-[0_0_8px] transition-all duration-300;
  }
  
  .robot-status-brain   { @apply health-dot bg-robot-brain shadow-robot-brain/50; }
  .robot-status-motors  { @apply health-dot bg-robot-motors shadow-robot-motors/50; }
  .robot-status-vision  { @apply health-dot bg-robot-vision shadow-robot-vision/50; }
  
  .connection-error     { @apply health-dot bg-nightfall-error shadow-nightfall-error/50; }
  .connection-warning   { @apply health-dot bg-nightfall-warning shadow-nightfall-warning/50; }
}

/* Utilities */
@layer utilities {
  /* Custom Animations */
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slide-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes gradient-x {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  
  @keyframes ping-slow {
    75%, 100% { transform: scale(2); opacity: 0; }
  }
  
  /* Animation Classes */
  .animate-fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }
  
  .animate-slide-up {
    animation: slide-up 0.4s ease-out forwards;
  }
  
  .animate-gradient-x {
    background-size: 200% 200%;
    animation: gradient-x 8s ease infinite;
  }
  
  .animate-ping-slow {
    animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite;
  }
  
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-700 rounded-full hover:bg-gray-600;
  }
}
